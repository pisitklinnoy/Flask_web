{% extends 'base.html' %}

{% block title %}Login{% endblock %}

{% block body %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">

<div class="d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow-lg" style="width: 400px; background-color: #000000; border-radius: 10px;">
        <h3 class="text-center mb-4">Login</h3>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="alert alert-warning text-center">
            {% for category, message in messages %}
            <p class="mb-0">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
        <form action="" method="POST">
            {{ form.hidden_tag() }}

            <div class="form-group mb-3">
                {{ form.username.label(class_="form-label") }}
                {{ form.username(class_="form-control", placeholder="Enter your username", value=form_name) }}
            </div>

            <div class="form-group mb-3">
                {{ form.password.label(class_="form-label") }}
                {{ form.password(class_="form-control", placeholder="Enter your password", value=form_name) }}
            </div>

            {% if request.args.get('error') %}
            <div class="alert alert-danger p-2 text-center">
                {{ request.args.get('error') }}
            </div>
            {% endif %}

            <button type="submit" class="btn btn-primary w-100">Login</button>
        </form>
        <hr class="my-3 border-light">

        <p class="text-center">Don't have an account?</p>
        <a href="{{ url_for('register') }}" class="btn btn-outline-light w-100">Register</a>
    </div>
</div>

{% endblock %}